<!DOCTYPE html>
<html>
<head>
<title>SVLN SOLUTIONS - Purchase</title>

<style>
body{
  font-family:Arial;
  background:#f2f2f2;
}
.box{
  width:450px;
  margin:60px auto;
  background:#fff;
  padding:20px;
  border-radius:8px;
  box-shadow:0 0 10px rgba(0,0,0,.2);
}
h2{
  text-align:center;
  color:#0a4da3;
}
input,button{
  width:100%;
  padding:10px;
  margin:8px 0;
  font-size:15px;
}
button{
  background:#0a4da3;
  color:#fff;
  border:none;
  cursor:pointer;
}
button:hover{
  background:#083b7a;
}
</style>
</head>

<body>

<div class="box">
<h2>Purchase Entry</h2>

<input type="text" id="supplier" placeholder="Supplier Name">
<input type="text" id="code" placeholder="Item Code">
<input type="text" id="name" placeholder="Item Name">
<input type="number" id="qty" placeholder="Quantity">
<input type="number" id="cost" placeholder="Cost Price">

<button onclick="savePurchase()">Save Purchase</button>
</div>

<script>
/* =========================
   CONFIG
========================= */
const API = "https://script.google.com/macros/s/AKfycbx17UA-wfZTPnai9N5EjiAy2M_0wWkcovrC1QyDZWEAw3l3Bk3IHbXWxpzMW7WrAbwGBQ/exec";

/* =========================
   SAVE PURCHASE
========================= */
function savePurchase(){

  const s  = document.getElementById("supplier").value.trim();
  const c  = document.getElementById("code").value.trim();
  const n  = document.getElementById("name").value.trim();
  const q  = document.getElementById("qty").value.trim();
  const cp = document.getElementById("cost").value.trim();

  if(s === "" || c === "" || n === "" || q === "" || cp === ""){
    alert("All fields are required");
    return;
  }

  const url =
    API +
    "?action=purchase" +
    "&supplier=" + encodeURIComponent(s) +
    "&code=" + encodeURIComponent(c) +
    "&name=" + encodeURIComponent(n) +
    "&qty=" + encodeURIComponent(q) +
    "&cost=" + encodeURIComponent(cp);

  fetch(url)
    .then(res => res.text())
    .then(txt => {
      alert("Purchase Saved Successfully");
      location.reload();
    })
    .catch(err => {
      alert("Error saving purchase");
      console.error(err);
    });
}
</script>

</body>
</html>
